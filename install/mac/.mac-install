#!/bin/bash


main() {

  if [[ ! -d "~/Library/KeyBindings" ]]; then
    echo ------------------------ Installing KeyBindings -------------------------
    mkdir -p ~/Library/KeyBindings
    cp ./DefaultKeyBinding.dict ~/Library/KeyBindings
  fi

  echo --------------------------- Installing Defaults ---------------------------

  ### Finder: show hidden files by default
  defaults write com.apple.finder AppleShowAllFiles -bool true

  ### Finder: show all filename extensions
  defaults write NSGlobalDomain AppleShowAllExtensions -bool true

  ### Finder: show status bar
  defaults write com.apple.finder ShowStatusBar -bool true

  ### Finder: show path bar
  defaults write com.apple.finder ShowPathbar -bool true

  ### Disable press-and-hold for keys in favor of key repeat
  defaults write NSGlobalDomain ApplePressAndHoldEnabled -bool false

  ### Set a blazingly fast keyboard repeat rate
  defaults write NSGlobalDomain KeyRepeat -int 1
  defaults write NSGlobalDomain InitialKeyRepeat -int 10

  # Kill all Finder to apply
  Killall Finder

  echo "Restart is required."
  echo -e "\n    Done.\n"
}

main "#@"